services:
  # WordPress Production
  fiverivers-wp:
    image: wordpress:latest
    container_name: fiverivers-wp-prod
    restart: always
    ports:
      - "8081:80"
    volumes:
      - ./fiverivers_wordpress/wp-content:/var/www/html/wp-content
      - ./fiverivers_wordpress/config/uploads.ini:/usr/local/etc/php/conf.d/uploads.ini
    environment:
      WORDPRESS_DB_HOST: ${WORDPRESS_DB_HOST:-localhost}
      WORDPRESS_DB_USER: ${WORDPRESS_DB_USER:-fiverriversadmin}
      WORDPRESS_DB_PASSWORD: ${WORDPRESS_DB_PASSWORD:-Password@123}
      WORDPRESS_DB_NAME: ${WORDPRESS_DB_NAME:-fiveriverstutoring_db}
      WORDPRESS_DEBUG: 0
      WORDPRESS_CONFIG_EXTRA: |
        define('WP_HOME', '${WORDPRESS_HOME}');
        define('WP_SITEURL', '${WORDPRESS_SITEURL}');
        define('FS_METHOD', 'direct');
    networks:
      - fiverivers_network

networks:
  fiverivers_network:
    driver: bridge 